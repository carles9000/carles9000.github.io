<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:106%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0cm;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 3.0cm 70.85pt 3.0cm;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ES link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse'>
 <tr style='height:2.0cm'>
  <td width=415 style='width:311.6pt;border:none;border-bottom:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:2.0cm'>
  <table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=626
   style='width:469.65pt;border-collapse:collapse'>
   <tr>
    <td width=607 style='width:455.45pt;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoNormal style='margin-bottom:0cm;text-align:justify;line-height:
    normal'><a name="_Hlk214033306"><b><span style='font-size:22.0pt;
    font-family:"Tahoma",sans-serif;letter-spacing:.2pt'>Ticket Project (II) -
    Routes</span></b></a></p>
    </td>
    <td width=19 style='width:14.2pt;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoNormal style='text-align:justify'><b><span style='font-size:
    18.0pt;line-height:106%'>&nbsp;</span></b></p>
    </td>
   </tr>
  </table>
  </td>
  <td width=151 style='width:113.1pt;border:none;border-bottom:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:2.0cm'>
  <p class=MsoNormal align=right style='text-align:right'><b><span
  style='font-size:18.0pt;line-height:106%'><img width=84 height=51
  src="../../es/htm/que_es_ut_archivos/image001.png"></span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:106%;font-family:
"Times New Roman",serif;display:none'>&nbsp;</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="99%"
 style='width:99.48%;border-collapse:collapse'>
 <tr style='height:13.7pt'>
  <td width=416 style='width:11.0cm;padding:.7pt 4.3pt .7pt 0cm;height:13.7pt'>
  <p class=MsoNormal align=right style='text-align:right'><span
  style='font-size:16.0pt;line-height:106%'>&nbsp;</span></p>
  </td>
  <td width=148 style='width:111.15pt;padding:.7pt 4.3pt .7pt 0cm;height:13.7pt'>
  <p class=MsoNormal align=right style='text-align:right'>Autor: Carles Aubia</p>
  <p class=MsoNormal align=right style='text-align:right'>Fecha Rev: 14/11/2025</p>
  </td>
 </tr>
</table>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing style='text-align:justify'><b><span style='font-size:
14.0pt'>Root</span></b></p>

<p class=MsoNoSpacing style='text-align:justify'><b><span style='font-size:
14.0pt'>&nbsp;</span></b></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>Now
that we have a small module working, what we are going to do is bring order to
our application. What we will do now is place the files
(ticket.html&nbsp;and&nbsp;proc_ticket.prg) inside a directory that we will
create with the name&nbsp;web&nbsp;(or whatever name you prefer).</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>The
objective of this directory is to have our application's code inside it.</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>By
default, HIX provides external visibility to the entire directory where it is
installed.</span></p>

<p class=MsoNoSpacing>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse;border:none'>
 <tr>
  <td width=566 valign=top style='width:424.7pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNoSpacing><span style='font-size:10.0pt;font-family:"Courier New"'>Location               
        C:\hix\                                                                                 
  Domain                       
  localhost                                                                               
  Local IP                      192.168.0.25</span></p>
  <p class=MsoNoSpacing><span style='font-size:10.0pt;font-family:"Courier New"'>Port                         
  80</span></p>
  <p class=MsoNoSpacing><b><span style='font-size:10.0pt;font-family:"Courier New";
  color:#EE0000'>Root                          /</span></b></p>
  <p class=MsoNoSpacing><span style='font-size:10.0pt;font-family:"Courier New"'>Language/Codepage            
  Harbour Language: en.EN English (English), EN/cp437</span></p>
  <p class=MsoNoSpacing><span style='font-size:10.0pt;font-family:"Courier New"'>RDD
  List                      DBF, DBFFPT, DBFBLOB, DBFCDX, DBFNTX, FCOMMA</span></p>
  <p class=MsoNoSpacing><span style='font-size:10.0pt;font-family:"Courier New"'>RDD
  Default                   DBFCDX</span></p>
  </td>
 </tr>
</table>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>We
will change the parameter&nbsp;/&nbsp;to&nbsp;web. To do this, we will enter
the&nbsp;&gt; server&nbsp;command and change the root to &quot;web&quot;.</span></p>

<p class=MsoNoSpacing>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse;border:none'>
 <tr>
  <td width=566 valign=top style='width:424.7pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNoSpacing><span style='font-family:"Courier New";color:black'>Path
  Root                     </span><b><span style='font-family:"Courier New";
  color:#EE0000'>web</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>From
this moment on, everything will be referenced relative to the &quot;web&quot;
folder, and from any browser, it will not be possible to access any directory
above&nbsp;web.</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>If
we start the server, we could access the module again
via&nbsp;http://localhost/web/ticket.html</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing><b>&nbsp;</b></p>

<p class=MsoNoSpacing><b><span style='font-size:14.0pt'>Routes</span></b></p>

<p class=MsoNoSpacing style='text-align:justify'><b><span style='font-size:
14.0pt'>&nbsp;</span></b></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>The
objective now is to create a &quot;friendly URL&quot;. The goal of a
&quot;friendly URL&quot; is to create an easy-to-handle URL without referencing
a specific location, file, etc.</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&quot;A
Friendly URL is the part of a URL that comes after the domain extension in an
easy-to-read format. The benefit of a Friendly URL is that it makes navigation
easier - and it makes your links look prettier.&quot;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>To
do this, we will rename the current URLs:</span></p>

<p class=MsoNoSpacing><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:14.0pt'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt'><a
href="http://localhost/web/ticket.html">http://localhost/web/ticket.html</a>        to
       <a href="http://localhost/ticket">http://localhost/ticket</a> </span></p>

<p class=MsoNoSpacing style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:14.0pt'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt'><a
href="http://localhost/web/proc_ticket.prg">http://localhost/web/proc_ticket.prg</a>
           to        <a href="http://localhost/proc_ticket">http://localhost/proc_ticket</a> 
</span></p>

<p class=MsoNoSpacing><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>Notice
that we are creating shorter routes without file extensions. To do this, you
must enter the&nbsp;&gt; routes&nbsp;command and create a route name and
specify which file relative to the root folder (in our case,&nbsp;web) it
points to.</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>We
will also indicate which verb types we will use to access each page.
Understanding HTTP verbs is important in web development, but it's very easy.
This is basic information and there are many pages, but you can consult, for
example, this page:</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'><a
href="https://www.w3schools.com/tags/ref_httpmethods.asp">https://www.w3schools.com/tags/ref_httpmethods.asp</a>
</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>In
our case, we will access our ticket page directly from the browser, so we will
use the GET method. In contrast, the &quot;ticket&quot; page will send the
information to the &quot;proc_ticket&quot; page via the POST method.</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>The
configuration in routes would be as follows:</span></p>

<p class=MsoNoSpacing>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse;border:none'>
 <tr>
  <td width=566 valign=top style='width:424.7pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>&gt;
  Routes            Config friendly routes  </span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>                                                                                                                                                                                                                   
  Route Name     Root: web            Method</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>ticket        
  ticket.html          GET</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>proc_ticket   
  proc_ticket.prg      POST</span></p>
  </td>
 </tr>
</table>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing><span style='font-size:14.0pt'>We only need one more
change in the code. In&nbsp;ticket.html&nbsp;we will change
the&nbsp;action&nbsp;(which redirects to a page) from the
filename&nbsp;proc_ticket.prg&nbsp;to the route name&nbsp;proc_ticket.</span></p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>web/ticket.html</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse;border:none'>
 <tr>
  <td width=566 valign=top style='width:424.7pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>... </span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>  &lt;form
  action=&quot;<b><span style='color:#EE0000'>proc_ticket</span></b>&quot;
  method='post' &gt;</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>    &lt;label
  for=&quot;user_name&quot;&gt;Name:&lt;/label&gt;&lt;br&gt;</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>    &lt;input
  type=&quot;text&quot; name=&quot;user_name&quot;
  value=&quot;John&quot;&gt;&lt;br&gt;&lt;br&gt;</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>    &lt;input
  type=&quot;submit&quot; value=&quot;Give me a ticket&quot;&gt;</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>  &lt;/form&gt;</span></p>
  <p class=MsoNoSpacing><span style='font-family:"Courier New"'>... </span></p>
  </td>
 </tr>
</table>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNormal style='text-align:justify'><u><span style='font-size:14.0pt;
line-height:106%'>This is the meaning of the route.</span></u><span
style='font-size:14.0pt;line-height:106%'> The form will execute what is
defined in the&nbsp;proc_ticket&nbsp;route, not a specific file, but an
identifier (route), and our server will take care of this. It is also important
to understand that, for example, the&nbsp;proc_ticket&nbsp;route can ONLY be
executed via POST. If you try to      
execute&nbsp;localhost/proc_ticket&nbsp;directly from the browser, our server
will not allow it and will give you a &quot;404 Page not found&quot; error.
This is also one of the aspects that will influence our security.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:106%'>If we start
the server once we have saved the changes, we will
execute&nbsp;localhost/ticket&nbsp;and access our ticket module.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:106%'>The server
will take care of finding which page to execute. Notice that the user will not
know what type of file we are executing (html, prg, ...) nor where it is
located (in this case, in the&nbsp;web&nbsp;folder).</span></p>

<span style='font-size:11.0pt;line-height:106%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNoSpacing><img border=0 width=567 height=262 id="Imagen 1"
src="ticket_v2_en_archivos/image002.jpg"></p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing style='text-align:justify'><span style='font-size:14.0pt'>El
servidor ya se encargará de buscar que pagina ejecutar. Observad que el usuario
no sabrá ni que tipo de fichero ejecutamos(html, prg,…) ni donde esta ubicado
(en este caso en la carpeta web)</span></p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

<p class=MsoNoSpacing>&nbsp;</p>

</div>

</body>

</html>
